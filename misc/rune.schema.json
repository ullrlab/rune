{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"type": "object",
	"properties": {
        "configs": {
            "properties": {
                "target": { "type": "string", "description": "Name of the build target" },
                "output": { "type": "string", "description": "Output directory" },
                "defaultProfile": { "type": "string", "description": "Default profile to use" }
            },
            "required": ["target", "output"]
        },
        "profiles": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "name": { "type": "string", "description": "Name of the profile" },
                    "arch": { "type": "string", "enum": ["x86", "x86_64", "arm", "aarch64", "riscv64"], "description": "Architecture used by the profile" },
                    "mode": { "type": "string", "enum": ["debug", "release"], "description": "Build mode used by the profile" },
                    "entry": { "type": "string", "description": "Entry point of the program. Should point to a directory" },
                    "preBuild": {
                        "scripts": {
                            "type": "array",
                            "description": "Series of scripts to run",
                            "items": { "type": "string", "description": "Name of the script to reference" }
                        }
                    },
                    "postBuild": {
                        "type": "object",
                        "description": "Actions taken after the build happened",
                        "properties": {
                            "scripts": {
                                "type": "array",
                                "description": "Series of scripts to run",
                                "items": { "type": "string", "description": "Name of the script to reference" }
                            },
                            "copy": {
                                "type": "array",
                                "description": "List of files and directory to copy",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "from": { "type": "string", "description": "Source to copy from" },
                                        "to": { "type": "string", "description": "Destination in the output directory" }
                                    },
                                    "required": ["from", "to"]
                                }
                            }
                        }
                    }
                },
                "required": ["name", "arch", "mode", "entry"]
            }
        },
        "scripts": {
            "type": "object",
            "description": "Series of scripts defines as \"name\": [command]'"
        }
	},
	"required": ["configs", "profiles"]
}